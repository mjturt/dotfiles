#!/bin/bash
# Polybar starting script
# mjturt

if [[ -z "$1" ]]; then
   echo "Usage: poly <wm> (bspwm, hlwm)"
else
   if [[ $# = 1 ]]; then
      if [[ "$1" = "hlwm" ]]; then
         killall -q polybar
         while pgrep -u $UID -x polybar >/dev/null; do sleep 1; done
         polybar -c ~/.config/polybar/config.hlwm hlwm &
         sleep 1
         echo "Polybar for Herbstluftwm started"
      elif [[ "$1" = "bspwm" ]]; then
         killall -q polybar
         while pgrep -u $UID -x polybar >/dev/null; do sleep 1; done
         polybar -c ~/.config/polybar/config.bspwm bspwm &
         sleep 1
         echo "Polybar for bspwm started"
      else
         echo "Bad argument"
      fi
   else
      echo "Only one argument (for now)"
   fi
fi
